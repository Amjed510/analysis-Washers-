<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø£ÙˆÙ„ - Offline-First | WashPOS</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary: #28a745;
            --primary-dark: #1e7e34;
            --secondary: #17a2b8;
            --bg-dark: #0d1117;
            --bg-card: #161b22;
            --border: #30363d;
            --text: #c9d1d9;
            --text-muted: #8b949e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            line-height: 1.8;
        }

        /* Header */
        .hero {
            background: linear-gradient(135deg, #155724 0%, #28a745 50%, #20c997 100%);
            padding: 60px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 10px 25px;
            border-radius: 30px;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            margin: 5px;
        }

        .badge.offline {
            background: rgba(40, 167, 69, 0.3);
            border: 2px solid #28a745;
        }

        /* Navigation */
        .nav {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav a {
            color: var(--text);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .nav a:hover {
            background: var(--primary);
            color: white;
        }

        /* Main Content */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section */
        .section {
            margin-bottom: 50px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary);
        }

        .section-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .section-title h2 {
            font-size: 1.6rem;
            color: var(--primary);
        }

        .section-title span {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .card-header {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(32, 201, 151, 0.05));
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }

        .card-header h3 {
            font-size: 1.3rem;
            color: var(--primary);
        }

        .card-body {
            padding: 25px;
        }

        /* Mermaid Diagrams */
        .mermaid-container {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        /* Info Boxes */
        .info-box {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .info-box.success {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid var(--primary);
        }

        .info-box.warning {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .feature-card {
            background: rgba(40, 167, 69, 0.05);
            border: 1px solid rgba(40, 167, 69, 0.2);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: rgba(40, 167, 69, 0.1);
            color: var(--primary);
        }

        /* Footer */
        .footer {
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            padding: 30px 20px;
            text-align: center;
            color: var(--text-muted);
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .hero p { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <header class="hero">
        <div class="hero-content">
            <h1>ğŸŸ¢ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø£ÙˆÙ„</h1>
            <p>Ù†Ø¸Ø§Ù… WashPOS Ø¨Ù‡ÙŠÙƒÙ„ÙŠØ© Offline-First</p>
            <div class="badge offline">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª</div>
            <div class="badge">ğŸ’¾ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Isar Ù…Ø­Ù„ÙŠØ©</div>
            <div class="badge">ğŸ”„ Ù…Ø²Ø§Ù…Ù†Ø© Ø®Ù„ÙÙŠØ©</div>
        </div>
    </header>

    <nav class="nav">
        <div class="nav-container">
            <a href="#philosophy">Ø§Ù„ÙÙ„Ø³ÙØ©</a>
            <a href="#features">Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª</a>
            <a href="#sequence-cash">ØªØ³Ù„Ø³Ù„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ</a>
            <a href="#sequence-sync">ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©</a>
            <a href="#component">Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</a>
            <a href="#state">Ø§Ù„Ø­Ø§Ù„Ø§Øª</a>
            <a href="#activity">Ø§Ù„Ù†Ø´Ø§Ø·</a>
            <a href="#comparison">Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</a>
        </div>
    </nav>

    <main class="container">
        <!-- Philosophy Section -->
        <section class="section" id="philosophy">
            <div class="section-header">
                <div class="section-icon">ğŸ’¡</div>
                <div class="section-title">
                    <h2>Ø§Ù„ÙÙ„Ø³ÙØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©</h2>
                    <span>Architectural Philosophy</span>
                </div>
            </div>

            <div class="info-box success">
                <h3>ğŸ¯ Ø§Ù„Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</h3>
                <p style="font-size: 1.5rem; margin-top: 10px; font-weight: bold;">
                    "Ø§Ù„Ø¹Ù…Ù„ Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø£Ø¨Ø¯Ø§Ù‹ - Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª"
                </p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ’¾</div>
                    <h4>Local-First</h4>
                    <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Isar</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”„</div>
                    <h4>Background Sync</h4>
                    <p>Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªØªÙ… ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h4>Ø³Ø±Ø¹Ø© ÙØ§Ø¦Ù‚Ø©</h4>
                    <p>Ù„Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ù„Ù„Ø³ÙŠØ±ÙØ± - Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø­Ù„ÙŠØ© ÙˆÙÙˆØ±ÙŠØ©</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ›¡ï¸</div>
                    <h4>Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ©</h4>
                    <p>Ù„Ø§ ØªØ£Ø«ÙŠØ± Ù„Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¹Ù„Ù‰ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„</p>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="section" id="features">
            <div class="section-header">
                <div class="section-icon">âœ¨</div>
                <div class="section-title">
                    <h2>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                    <span>Key Features</span>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Ø§Ù„Ù…ÙŠØ²Ø©</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„ÙˆØµÙ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ</td>
                        <td>âœ… Offline</td>
                        <td>ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª</td>
                    </tr>
                    <tr>
                        <td>Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</td>
                        <td>âš ï¸ Online</td>
                        <td>ÙŠØªØ·Ù„Ø¨ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¨Ù†Ùƒ</td>
                    </tr>
                    <tr>
                        <td>Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©</td>
                        <td>âœ… Offline</td>
                        <td>QR Code ÙŠÙÙˆÙ„Ø¯ Ù…Ø­Ù„ÙŠØ§Ù‹ (ZATCA Phase 1)</td>
                    </tr>
                    <tr>
                        <td>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª</td>
                        <td>âœ… Offline</td>
                        <td>ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ ÙˆØªÙ‚Ø§Ø±ÙŠØ± ØªØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹</td>
                    </tr>
                    <tr>
                        <td>Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©</td>
                        <td>ğŸ”„ Auto</td>
                        <td>ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Sequence Diagram - Cash Payment -->
        <section class="section" id="sequence-cash">
            <div class="section-header">
                <div class="section-icon">ğŸ’µ</div>
                <div class="section-title">
                    <h2>Ù…Ø®Ø·Ø· ØªØ³Ù„Ø³Ù„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ</h2>
                    <span>Cash Payment Sequence Diagram</span>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>âœ… ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ (Offline)</h3>
                </div>
                <div class="card-body">
                    <div class="info-box success">
                        <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ù‡Ø°Ø§ Ø§Ù„ØªØ¯ÙÙ‚ Ù„Ø§ ÙŠØªØ·Ù„Ø¨ Ø£ÙŠ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
                    </div>
                    <div class="mermaid-container">
                        <div class="mermaid">
sequenceDiagram
    autonumber
    participant K as ğŸ§‘â€ğŸ’¼ Ø§Ù„ÙƒØ§Ø´ÙŠØ±
    participant UI as ğŸ“± ÙˆØ§Ø¬Ù‡Ø© POS
    participant Pay as ğŸ’° Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø¯ÙØ¹
    participant Isar as ğŸ’¾ Ù‚Ø§Ø¹Ø¯Ø© Isar
    participant ZATCA as ğŸ“‹ Ø®Ø¯Ù…Ø© ZATCA
    participant Print as ğŸ–¨ï¸ Ø§Ù„Ø·Ø§Ø¨Ø¹Ø©
    participant Queue as ğŸ“¤ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©

    Note over K,Queue: âœ… Ù„Ø§ ÙŠØªØ·Ù„Ø¨ Ø¥Ù†ØªØ±Ù†Øª

    K->>UI: Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ"
    UI->>Pay: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹

    Pay->>Pay: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø§Ù‚ÙŠ
    Pay->>Isar: Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹
    Isar-->>Pay: ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…

    Pay->>ZATCA: ØªÙˆÙ„ÙŠØ¯ Ø±Ù…Ø² QR
    ZATCA-->>Pay: qrCodeData

    Pay->>Print: Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©
    Print-->>Pay: ØªÙ…Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© âœ…

    Pay->>Queue: Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹
    Pay-->>UI: âœ… Ù†Ø¬Ø§Ø­ + Ø§Ù„Ø¨Ø§Ù‚ÙŠ
    UI-->>K: Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sequence Diagram - Sync -->
        <section class="section" id="sequence-sync">
            <div class="section-header">
                <div class="section-icon">ğŸ”„</div>
                <div class="section-title">
                    <h2>Ù…Ø®Ø·Ø· ØªØ³Ù„Ø³Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©</h2>
                    <span>Background Sync Sequence Diagram</span>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>ğŸ”„ SyncWorker - Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</h3>
                </div>
                <div class="card-body">
                    <div class="mermaid-container">
                        <div class="mermaid">
sequenceDiagram
    autonumber
    participant Timer as â° Ø§Ù„Ù…Ø¤Ù‚Øª
    participant Sync as ğŸ”„ Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
    participant Conn as ğŸ“¶ Ø®Ø¯Ù…Ø© Ø§Ù„Ø§ØªØµØ§Ù„
    participant Isar as ğŸ’¾ Ù‚Ø§Ø¹Ø¯Ø© Isar
    participant API as ğŸŒ Ø¹Ù…ÙŠÙ„ API
    participant Server as â˜ï¸ Ø§Ù„Ø³ÙŠØ±ÙØ±

    Timer->>Sync: ØªÙ†Ø¨ÙŠÙ‡ ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
    Sync->>Conn: Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„ØŸ

    alt ØºÙŠØ± Ù…ØªØµÙ„
        Conn-->>Sync: âŒ Ù„Ø§
        Sync-->>Timer: ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
    else Ù…ØªØµÙ„
        Conn-->>Sync: âœ… Ù†Ø¹Ù…

        Sync->>Isar: Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
        Isar-->>Sync: Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª

        loop Ù„ÙƒÙ„ Ø·Ù„Ø¨ Ù…Ø¹Ù„Ù‚
            Sync->>API: POST /orders
            alt Ù†Ø¬Ø§Ø­
                API-->>Sync: âœ… orderId
                Sync->>Isar: ØªØ­Ø¯ÙŠØ«: ØªÙ…Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
            else ÙØ´Ù„
                API-->>Sync: âŒ Ø®Ø·Ø£
                Sync->>Isar: Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª
            end
        end
    end
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Component Diagram -->
        <section class="section" id="component">
            <div class="section-header">
                <div class="section-icon">ğŸ§©</div>
                <div class="section-title">
                    <h2>Ù…Ø®Ø·Ø· Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</h2>
                    <span>Component Diagram</span>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>ğŸ—ï¸ Ø¨Ù†ÙŠØ© Offline-First</h3>
                </div>
                <div class="card-body">
                    <div class="mermaid-container">
                        <div class="mermaid">
flowchart TB
    subgraph App["ğŸ“± ØªØ·Ø¨ÙŠÙ‚ WashPOS"]
        subgraph Presentation["Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶"]
            Views["Ø§Ù„Ø´Ø§Ø´Ø§Øª"]
            Controllers["Ù…ØªØ­ÙƒÙ…Ø§Øª GetX"]
        end

        subgraph Data["Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"]
            subgraph LocalFirst["ğŸŸ¢ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ"]
                Isar["ğŸ’¾ Ù‚Ø§Ø¹Ø¯Ø© Isar"]
                SyncQueue["ğŸ“¤ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©"]
            end
            
            subgraph Remote["ğŸ”µ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ"]
                DioClient["ğŸŒ Dio HTTP"]
            end
        end

        subgraph Core["Ø§Ù„Ø®Ø¯Ù…Ø§Øª"]
            SyncWorker["ğŸ”„ Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©"]
            PrinterSvc["ğŸ–¨ï¸ Ø®Ø¯Ù…Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©"]
            ZATCASvc["ğŸ“‹ Ø®Ø¯Ù…Ø© ZATCA"]
        end
    end

    subgraph Cloud["â˜ï¸ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©"]
        API["ÙˆØ§Ø¬Ù‡Ø© API"]
        PayGW["Ø¨ÙˆØ§Ø¨Ø© Ø¥Ù†Ù…Ø§Ø¡"]
    end

    Views --> Controllers
    Controllers --> Isar
    Controllers --> SyncQueue
    SyncWorker --> SyncQueue
    SyncWorker --> DioClient
    DioClient -.-> API
    API -.-> PayGW

    style LocalFirst fill:#d4edda,stroke:#28a745
    style Remote fill:#cce5ff,stroke:#007bff
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- State Diagram -->
        <section class="section" id="state">
            <div class="section-header">
                <div class="section-icon">ğŸ”€</div>
                <div class="section-title">
                    <h2>Ù…Ø®Ø·Ø· Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©</h2>
                    <span>Sync State Diagram</span>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>ğŸ“Š Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø©</h3>
                </div>
                <div class="card-body">
                    <div class="mermaid-container">
                        <div class="mermaid">
stateDiagram-v2
    [*] --> Ù…Ø¹Ù„Ù‚: Ø­ÙØ¸ Ù…Ø­Ù„ÙŠ

    Ù…Ø¹Ù„Ù‚ --> Ø¬Ø§Ø±ÙŠ_Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: ØªÙˆÙØ± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
    
    Ø¬Ø§Ø±ÙŠ_Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© --> ØªÙ…Øª_Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: âœ… Ù†Ø¬Ø§Ø­
    Ø¬Ø§Ø±ÙŠ_Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© --> ÙØ´Ù„: âŒ Ø®Ø·Ø£
    
    ÙØ´Ù„ --> Ù…Ø¹Ù„Ù‚: Ø§Ù†ØªØ¸Ø§Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
    ÙØ´Ù„ --> Ù…Ù†ØªÙ‡ÙŠ_Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: Ù…Ø­Ø§ÙˆÙ„Ø§Øª >= 3
    
    Ù…Ù†ØªÙ‡ÙŠ_Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© --> Ù…Ø±Ø§Ø¬Ø¹Ø©_ÙŠØ¯ÙˆÙŠØ©: ØªØ¯Ø®Ù„ Ø§Ù„Ù…Ø´Ø±Ù

    note right of Ù…Ø¹Ù„Ù‚: Ø§Ù„Ø·Ù„Ø¨ ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activity Diagram -->
        <section class="section" id="activity">
            <div class="section-header">
                <div class="section-icon">ğŸ“Š</div>
                <div class="section-title">
                    <h2>Ù…Ø®Ø·Ø· Ù†Ø´Ø§Ø· Ø§Ù„Ø¯ÙØ¹</h2>
                    <span>Payment Activity Diagram</span>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„</h3>
                </div>
                <div class="card-body">
                    <div class="mermaid-container">
                        <div class="mermaid">
flowchart TD
    Start([Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©]) --> Select[Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª]
    Select --> Cart[Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©]
    Cart --> PayMethod{Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹}
    
    PayMethod -->|Ù†Ù‚Ø¯ÙŠ| CashFlow
    PayMethod -->|Ø¨Ø·Ø§Ù‚Ø©| CardFlow
    
    subgraph CashFlow["ğŸ’µ Ù†Ù‚Ø¯ÙŠ - Offline"]
        Calc[Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø§Ù‚ÙŠ]
        SaveLocal[Ø­ÙØ¸ ÙÙŠ Isar]
        GenQR[ØªÙˆÙ„ÙŠØ¯ QR]
        Print1[Ø·Ø¨Ø§Ø¹Ø©]
        AddQueue[Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©]
        
        Calc --> SaveLocal --> GenQR --> Print1 --> AddQueue
    end
    
    subgraph CardFlow["ğŸ’³ Ø¨Ø·Ø§Ù‚Ø© - Online"]
        CheckConn{Ù…ØªØµÙ„ØŸ}
        Error[âš ï¸ ÙŠØªØ·Ù„Ø¨ Ø¥Ù†ØªØ±Ù†Øª]
        Process[Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©]
        
        CheckConn -->|Ù„Ø§| Error
        Error --> PayMethod
        CheckConn -->|Ù†Ø¹Ù…| Process
    end
    
    AddQueue --> Success([âœ… ØªÙ…])
    Process --> Success

    style CashFlow fill:#d4edda,stroke:#28a745
    style CardFlow fill:#fff3cd,stroke:#ffc107
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Comparison -->
        <section class="section" id="comparison">
            <div class="section-header">
                <div class="section-icon">ğŸ“Š</div>
                <div class="section-title">
                    <h2>Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø«Ø§Ù†ÙŠ</h2>
                    <span>Comparison with Scenario 2</span>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</th>
                        <th style="background: rgba(40,167,69,0.2);">Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø£ÙˆÙ„ (Offline-First)</th>
                        <th>Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø«Ø§Ù†ÙŠ (Cloud-Centric)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</td>
                        <td><strong>Ø§Ø®ØªÙŠØ§Ø±ÙŠ</strong></td>
                        <td>Ø¥Ù„Ø²Ø§Ù…ÙŠ</td>
                    </tr>
                    <tr>
                        <td>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©</td>
                        <td><strong>Isar (Ø£Ø³Ø§Ø³ÙŠØ©)</strong></td>
                        <td>Ù„Ø§ ÙŠÙˆØ¬Ø¯</td>
                    </tr>
                    <tr>
                        <td>Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù†Ù‚Ø¯ÙŠ Offline</td>
                        <td><strong>âœ… Ù†Ø¹Ù…</strong></td>
                        <td>âŒ Ù„Ø§</td>
                    </tr>
                    <tr>
                        <td>Ø³Ø±Ø¹Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</td>
                        <td><strong>ÙÙˆØ±ÙŠØ© (Ù…Ø­Ù„ÙŠØ©)</strong></td>
                        <td>ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ©</td>
                    </tr>
                    <tr>
                        <td>ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±</td>
                        <td>Ø¹Ø§Ù„ÙŠ (Ù…Ø²Ø§Ù…Ù†Ø©)</td>
                        <td><strong>Ù…Ù†Ø®ÙØ¶</strong></td>
                    </tr>
                    <tr>
                        <td>Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©</td>
                        <td><strong>Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹</strong></td>
                        <td>ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ©</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box success" style="margin-top: 30px;">
                <h3>âœ… Ù…ØªÙ‰ ØªØ®ØªØ§Ø± Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆØŸ</h3>
                <ul style="margin-top: 15px; padding-right: 20px;">
                    <li>Ø§Ù„Ù…ØºØ§Ø³Ù„ ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø³ÙÙ„ÙŠØ© (Basements)</li>
                    <li>Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø°Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¶Ø¹ÙŠÙØ© Ø£Ùˆ ØºÙŠØ± Ø§Ù„Ù…Ø³ØªÙ‚Ø±Ø©</li>
                    <li>Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ Ø£ÙˆÙ„ÙˆÙŠØ© Ù‚ØµÙˆÙ‰</li>
                    <li>Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…Ø¹Ø¸Ù… Ø§Ù„Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠØ§Ù‹</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>ğŸ“ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø£ÙˆÙ„ - Offline-First | Ù†Ø¸Ø§Ù… WashPOS</p>
        <p><a href="../Scenario2_CloudCentric/index.html">â† Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø«Ø§Ù†ÙŠ (Cloud-Centric)</a></p>
    </footer>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            flowchart: { useMaxWidth: true }
        });
    </script>
</body>
</html>
